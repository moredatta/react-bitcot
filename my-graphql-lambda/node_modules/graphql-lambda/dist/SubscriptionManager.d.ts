import { IConnection, ISubscriber, ISubscriptionEvent, ISubscriptionManager, OperationRequest } from './types';
interface MemorySubscriptionManagerOptions {
    /**
     * Optional function that can get subscription name from event
     *
     * Default is (event: ISubscriptionEvent) => event.event
     *
     * Useful for multi-tenancy
     */
    getSubscriptionNameFromEvent?: (event: ISubscriptionEvent) => string;
    /**
     * Optional function that can get subscription name from subscription connection
     *
     * Default is (name: string, connection: IConnection) => name
     *
     * Useful for multi-tenancy
     */
    getSubscriptionNameFromConnection?: (name: string, connection: IConnection) => string;
    /**
     * Optional object that takes care of the subscription set and get methods (allowing for persistence)
     *
     */
    subscriptionManagerStorage?: Map<string, IConnection>;
}
export declare class SubscriptionManager implements ISubscriptionManager {
    private subscriptions;
    private getSubscriptionNameFromEvent;
    private getSubscriptionNameFromConnection;
    constructor({ getSubscriptionNameFromEvent, getSubscriptionNameFromConnection, subscriptionManagerStorage }?: MemorySubscriptionManagerOptions);
    subscribersByEvent: (event: ISubscriptionEvent) => AsyncIterable<ISubscriber[]> & AsyncIterator<ISubscriber[]>;
    subscribe: (names: string[], connection: IConnection, operation: OperationRequest & {
        operationId: string;
    }) => Promise<void>;
    unsubscribe: (subscriber: ISubscriber) => Promise<void>;
    unsubscribeOperation: (connectionId: string, operationId: string) => Promise<void>;
    unsubscribeAllByConnectionId: (connectionId: string) => Promise<void>;
}
export {};
